(this["webpackJsonpsliding-puzzle"]=this["webpackJsonpsliding-puzzle"]||[]).push([[0],[,,,,,function(t,e,n){t.exports=n(12)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=n(1),u=(n(10),function(t){var e=t.src,n=t.boardX,r=t.boardY,o=t.imgX,i=t.imgY,c=t.xSteps,u=t.ySteps,s=t.dispatch,l={position:"absolute",width:100/c+"%",height:100/u+"%",transform:"translate("+100*n+"%,"+100*r+"%)",overflow:"hidden",top:"0",left:"0",transition:"all .2s",clipPath:"polygon(2% 2%, 98% 2%, 98% 98%, 2% 98%)"},d={position:"absolute",width:100*c+"%",left:-100*o+"%",top:-100*i+"%"};return a.a.createElement("div",{style:l,onMouseDown:function(){s({type:"CLICK",boardX:n,boardY:r})},onTouchStart:function(){s({type:"CLICK",boardX:n,boardY:r})},onTouchEnd:function(t){t.preventDefault()}},a.a.createElement("img",{src:e,alt:"Tile",style:d}))}),s=n(2);function l(t,e){switch(e.type){case"ARROW_LEFT":return d(t);case"ARROW_RIGHT":return f(t);case"ARROW_UP":return b(t);case"ARROW_DOWN":return p(t);case"CLICK":return function(t,e,n){var r=h(t),a=Object(c.a)(r,2),o=a[0],i=a[1];return o===e?function(t,e,n){for(;e!==n;)e>n?(t=p(t),e--):(t=b(t),e++);return t}(t,i,n):i===n?function(t,e,n){for(;e!==n;)e>n?(t=f(t),e--):(t=d(t),e++);return t}(t,o,e):t}(t,e.boardX,e.boardY);default:throw new Error}}function d(t){var e=h(t),n=Object(c.a)(e,2),r=n[0],a=n[1];return r<t[0].xSteps-1?m(t,r+1,a,r,a):t}function f(t){var e=h(t),n=Object(c.a)(e,2),r=n[0],a=n[1];return r>0?m(t,r-1,a,r,a):t}function b(t){var e=h(t),n=Object(c.a)(e,2),r=n[0],a=n[1];return a<t[0].ySteps-1?m(t,r,a+1,r,a):t}function p(t){var e=h(t),n=Object(c.a)(e,2),r=n[0],a=n[1];return a>0?m(t,r,a-1,r,a):t}function m(t,e,n,r,a){return t.map((function(t){return t.boardX===e&&t.boardY===n?Object(s.a)(Object(s.a)({},t),{},{boardX:r,boardY:a}):t}))}function h(t){for(var e=t[0],n=e.xSteps,r=e.ySteps,a=function(e){for(var n=function(n){if(0===t.filter((function(t){return t.boardX===e&&t.boardY===n})).length)return{v:{v:[e,n]}}},a=0;a<r;a++){var o=n(a);if("object"===typeof o)return o.v}},o=0;o<n;o++){var i=a(o);if("object"===typeof i)return i.v}}var w=function(t){var e=t.src,n=t.imageWidth,o=t.imageHeight,i=t.xSteps,s=t.ySteps,m=Object(r.useState)(!1),h=Object(c.a)(m,2),w=h[0],g=h[1],v=function(t,e){for(var n=[],r=0;r<t*e-1;r++)n.push({key:r,boardX:r%t,boardY:Math.floor(r/t),imgX:r%t,imgY:Math.floor(r/t),xSteps:t,ySteps:e});return n}(i,s),y=Object(r.useReducer)(l,function(t){for(var e=0;e<100;e++)switch(Math.floor(4*Math.random())){case 0:t=d(t);break;case 1:t=f(t);break;case 2:t=b(t);break;case 3:t=p(t);break;default:throw new Error}return t}(v)),O=Object(c.a)(y,2),E=O[0],R=O[1],k=function(t,e){for(var n=0;n<t.length;n++)if(t[n].boardX!==e[n].boardX||t[n].boardY!==e[n].boardY)return!1;return!0}(v,E),j={position:"absolute",width:100*n/o+"vh",maxWidth:"100vw",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return Object(r.useEffect)((function(){var t=function(t){if(!k)switch(t.key){case"ArrowLeft":R({type:"ARROW_LEFT"});break;case"ArrowRight":R({type:"ARROW_RIGHT"});break;case"ArrowUp":R({type:"ARROW_UP"});break;case"ArrowDown":R({type:"ARROW_DOWN"})}};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}})),a.a.createElement("div",{style:j},a.a.createElement("img",{src:e,alt:"Board Background",onLoad:function(){return g(!0)},style:{transition:"opacity 1s",opacity:k?"1":"0.1",width:"100%",display:"block"}}),E.map((function(t){return a.a.createElement(u,Object.assign({},t,{src:e,dispatch:R}))})),!w&&a.a.createElement("h1",{style:{color:"var(--light-color)",fontSize:"2rem",textAlign:"center"}},"Loading random image from unsplash.com"))},g=function(){var t=Object(r.useState)(null),e=Object(c.a)(t,2),n=e[0],o=e[1],i=Object(r.useCallback)((function(t,e){var n=window.innerWidth>window.innerHeight?window.innerWidth:window.innerHeight,r=window.innerWidth>window.innerHeight?window.innerHeight:window.innerWidth;o({imageWidth:n,imageHeight:r,xSteps:t,ySteps:e,src:"https://source.unsplash.com/random/".concat(n,"x").concat(r)})}),[]);return n?a.a.createElement(w,n):a.a.createElement("div",{className:"game-options"},a.a.createElement("h1",null,"Sliding Puzzle"),a.a.createElement("hr",null),a.a.createElement("button",{className:"game-options__btn",onClick:function(){return i(3,3)}},"Play 3x3"),a.a.createElement("button",{className:"game-options__btn",onClick:function(){return i(4,4)}},"Play 4x4"),a.a.createElement("button",{className:"game-options__btn",onClick:function(){return i(5,3)}},"Play 5x3"))},v=function(){return a.a.createElement(g,null)};n(11);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v,null)),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.73bca5b4.chunk.js.map