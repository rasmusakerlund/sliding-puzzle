(this["webpackJsonpsliding-puzzle"]=this["webpackJsonpsliding-puzzle"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=n(1),u=(n(10),function(e){var t=e.src,n=e.boardX,r=e.boardY,o=e.imgX,i=e.imgY,c=e.xSteps,u=e.ySteps,s=e.dispatch,l={position:"absolute",width:100/c+"%",height:100/u+"%",transform:"translate("+100*n+"%,"+100*r+"%)",overflow:"hidden",top:"0",left:"0",transition:"all .2s",clipPath:"polygon(2% 2%, 98% 2%, 98% 98%, 2% 98%)"},d={position:"absolute",width:100*c+"%",left:-100*o+"%",top:-100*i+"%"};return a.a.createElement("div",{style:l,onClick:function(){return s({type:"CLICK",boardX:n,boardY:r})}},a.a.createElement("img",{src:t,alt:"Tile",style:d}))}),s=n(2);function l(e,t){switch(t.type){case"ARROW_LEFT":return d(e);case"ARROW_RIGHT":return f(e);case"ARROW_UP":return b(e);case"ARROW_DOWN":return m(e);case"CLICK":return function(e,t,n){var r=h(e),a=Object(c.a)(r,2),o=a[0],i=a[1];return o===t?function(e,t,n){for(;t!==n;)t>n?(e=m(e),t--):(e=b(e),t++);return e}(e,i,n):i===n?function(e,t,n){for(;t!==n;)t>n?(e=f(e),t--):(e=d(e),t++);return e}(e,o,t):e}(e,t.boardX,t.boardY);default:throw new Error}}function d(e){var t=h(e),n=Object(c.a)(t,2),r=n[0],a=n[1];return r<e[0].xSteps-1?p(e,r+1,a,r,a):e}function f(e){var t=h(e),n=Object(c.a)(t,2),r=n[0],a=n[1];return r>0?p(e,r-1,a,r,a):e}function b(e){var t=h(e),n=Object(c.a)(t,2),r=n[0],a=n[1];return a<e[0].ySteps-1?p(e,r,a+1,r,a):e}function m(e){var t=h(e),n=Object(c.a)(t,2),r=n[0],a=n[1];return a>0?p(e,r,a-1,r,a):e}function p(e,t,n,r,a){return e.map((function(e){return e.boardX===t&&e.boardY===n?Object(s.a)(Object(s.a)({},e),{},{boardX:r,boardY:a}):e}))}function h(e){for(var t=e[0],n=t.xSteps,r=t.ySteps,a=function(t){for(var n=function(n){if(0===e.filter((function(e){return e.boardX===t&&e.boardY===n})).length)return{v:{v:[t,n]}}},a=0;a<r;a++){var o=n(a);if("object"===typeof o)return o.v}},o=0;o<n;o++){var i=a(o);if("object"===typeof i)return i.v}}var w=function(e){var t=e.src,n=e.imageWidth,o=e.imageHeight,i=e.xSteps,s=e.ySteps,p=Object(r.useState)(!1),h=Object(c.a)(p,2),w=h[0],g=h[1],v=function(e,t){for(var n=[],r=0;r<e*t-1;r++)n.push({key:r,boardX:r%e,boardY:Math.floor(r/e),imgX:r%e,imgY:Math.floor(r/e),xSteps:e,ySteps:t});return n}(i,s),y=Object(r.useReducer)(l,function(e){for(var t=0;t<100;t++)switch(Math.floor(4*Math.random())){case 0:e=d(e);break;case 1:e=f(e);break;case 2:e=b(e);break;case 3:e=m(e);break;default:throw new Error}return e}(v)),O=Object(c.a)(y,2),E=O[0],k=O[1],R=function(e,t){for(var n=0;n<e.length;n++)if(e[n].boardX!==t[n].boardX||e[n].boardY!==t[n].boardY)return!1;return!0}(v,E),j={position:"absolute",width:100*n/o+"vh",maxWidth:"100vw",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return Object(r.useEffect)((function(){var e=function(e){if(!R)switch(e.key){case"ArrowLeft":k({type:"ARROW_LEFT"});break;case"ArrowRight":k({type:"ARROW_RIGHT"});break;case"ArrowUp":k({type:"ARROW_UP"});break;case"ArrowDown":k({type:"ARROW_DOWN"})}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),a.a.createElement("div",{style:j},a.a.createElement("img",{src:t,alt:"Board Background",onLoad:function(){return g(!0)},style:{transition:"opacity 1s",opacity:R?"1":"0.1",width:"100%",display:"block"}}),E.map((function(e){return a.a.createElement(u,Object.assign({},e,{src:t,dispatch:k}))})),!w&&a.a.createElement("h1",{style:{color:"var(--light-color)",fontSize:"2rem",textAlign:"center"}},"Loading random image from unsplash.com"))},g=function(){var e=Object(r.useState)(null),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(r.useCallback)((function(e,t){var n=window.innerWidth>window.innerHeight?window.innerWidth:window.innerHeight,r=window.innerWidth>window.innerHeight?window.innerHeight:window.innerWidth;o({imageWidth:n,imageHeight:r,xSteps:e,ySteps:t,src:"https://source.unsplash.com/random/".concat(n,"x").concat(r)})}),[]);return n?a.a.createElement(w,n):a.a.createElement("div",{className:"game-options"},a.a.createElement("h1",null,"Sliding Puzzle"),a.a.createElement("hr",null),a.a.createElement("button",{className:"game-options__btn",onClick:function(){return i(3,3)}},"Play 3x3"),a.a.createElement("button",{className:"game-options__btn",onClick:function(){return i(4,4)}},"Play 4x4"),a.a.createElement("button",{className:"game-options__btn",onClick:function(){return i(5,3)}},"Play 5x3"))},v=function(){return a.a.createElement(g,null)};n(11);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v,null)),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.3547928d.chunk.js.map